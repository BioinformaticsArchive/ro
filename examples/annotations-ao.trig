@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

@prefix dc: <http://purl.org/dc/elements/1.1/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .

@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix pav: <http://purl.org/pav/> .
@prefix ann: <http://www.w3.org/2000/10/annotation-ns#> .

@prefix ao: <http://purl.org/ao/core/> .
@prefix aot: <http://purl.org/ao/types/> .
@prefix aos: <http://purl.org/ao/selectors/> .
@prefix aoa: <http://purl.org/ao/annotea/> .
@prefix aof: <http://purl.org/ao/foaf/> .


@prefix oac: <http://www.openannotation.org/ns/> .

@prefix ro: <http://example.wf4ever-project.org/2011/ro/core#> .
@prefix rel: <http://example.wf4ever-project.org/2011/ro/relations#> .
@prefix ore: <http://www.openarchives.org/ore/terms/> .

@base <http://example.com/ROs/> .

@prefix : <ro#> .

## Default graph for research object (the manifest?)
{

ro:DataAnnotation a owl:Class ;
	rdfs:subClassOf oa:Annotation ;
	rdfs:comment "An annotation where the ann:body points to a
		machine-parseable annotation resource, 
		such as a named graph. " ;
	# TODO: Should this be done with a subproperty of
	# oa:body ?
	rdfs:seeAlso oac:DataAnnotation .

# This document - the representation of the research object
<ro> a ore:ResourceMap ;
	ore:describes :ro ;
	dcterms:created "2011-07-14T15:01:14"^^xsd:dateTime ;
	dcterms:creator [ foaf:name "Stian Soiland-Reyes"@en ] .

# The research object == the aggregation
:ro a ro:ResearchObject, ore:Aggregation ;
	ore:aggregates <r1>, <r2> ;
	ore:isDescribedBy <ro> ;
	dcterms:created "2011-07-14T15:01:13"^^xsd:dateTime ;
	dcterms:creator [ foaf:name "Stian Soiland-Reyes"@en ] .

# Proxies for the two resources - these represent
# the resources in the context of this research object
:proxy1 a ore:Proxy ;
	ore:proxyFor <r1> ;
	ore:proxyIn :ro .

:proxy2 a ore:Proxy ;
	ore:proxyFor <r2> ;
	ore:proxyIn :ro .

# Non-annotational metadata about the resources.
# These are pure facts which we can't dispute and
# don't need to know who asserted.
<r1> a ro:Resource ;
	dc:name "hello-world-workflow.scufl2" ;
	ro:fileSize "422323"^^xsd:longint.	
<r2> a ro:Resource ;
	dc:name "hello.txt" ;
	ro:fileSize "14"^^xsd:longint ;	
	ro:checksum <urn:sha1:586b242ccf9bb589f99c534d0f3859c87406a9d3> .



# Two simple (yet conflicting) annotations about the
# the title and description of the research object itself

:an1 a ao:Annotation, ro:DataAnnotation ;
	aof:annotatesResource :ro ;
	pav:createdBy [ foaf:name "Stian Soiland-Reyes"@en ] ;
	pav:createdOn "2011-07-14T15:02:14Z"^^xsd:dateTime ;
	ann:body :an1Body .

# Metadata about who did the annotations - still needed?
# dcterms:creator/created or pav:createdyBy/pav:createdOn?
:an1Body pav:createdBy [ foaf:name "Stian Soiland-Reyes"@en ] ;
	pav:createdOn "2011-07-14T15:02:14Z"^^xsd:dateTime .

:an2 a ao:Annotation, ro:DataAnnotation ;
	aof:annotatesResource :ro ;
	ann:body :an2Body ;
	pav:createdBy [ foaf:name "Jiten Bhagat"@en ] ;
	pav:createdOn "2011-07-14T15:03:42Z"^^xsd:dateTime .

# An annotation on the aggregated resource (e.g. an assertion of a 'globally
# true' title)
:an3 a ao:Annotation, ro:DataAnnotation ;
	aof:annotatesResource <r1> ;
	ann:body :an3Body ;
	pav:createdBy [ foaf:name "Jiten Bhagat"@en ] ;
	pav:createdOn "2011-07-14T15:03:42Z"^^xsd:dateTime .

# An annotation on the (proxy for the) resource as it is aggregated within this
# RO (e.g. a 'local' title)
:an4 a ao:Annotation, ro:DataAnnotation ;
	aof:annotatesResource :proxy1;
	ann:body :an4Body ;
	pav:createdBy [ foaf:name "Jiten Bhagat"@en ] ;
	# Notice how Jiten is behind both of these annotations, 
	# he's providing both the local and global title
	pav:createdOn "2011-07-14T15:03:45Z"^^xsd:dateTime .



# An annotation relating two resources as they are aggregated within this RO,
# automatically derived from Taverna's provenance
:an5 a ao:Annotation, ro:DataAnnotation ;
	aof:annotatesResource :proxy1, :proxy2;
	ann:body :an5Body ;
	# Person who saved/uploaded the provenance
	pav:createdBy [ foaf:name "Stian Soiland-Reyes"@en ] .

:an5Body pav:createdBy [
		# This annotation was generated by an agent (software) 
		# instead of a person
		a foaf:agent ;
		foaf:name "Taverna workbench"
	] ;
	# and created before our RO
	pav:createdOn "2011-07-12T14:31:34Z"^^xsd:dateTime ;
	dc:format "application/x-trig" .

}


# One named graph per annotation body. 

:an1Body {
	:ro dc:title "My research object"@en .
	:ro dc:description "This RO showcases my example workflow"@en .
}


:an2Body {
	:ro dc:title "Stian's RO"@en .
	:ro dc:description "Stian attempts to make an example research object"@en .
}

:an3Body {
	# The "real" global title for the free-standing resource. This could
	# also be provided by agents such as myExperiment
	<r1> dc:title "Hello World example workflow"@en .
}

:an4Body {
	# The title for the resourse as it is aggregated within the RO
	:proxy1 dc:title "The simple workflow"@en ;
		# And an explanation for why it is here
		dc:description "A straight forward workflow to test my RO"@en .
}

# Example of how the target of the ao:Annotation
# might not be a subject within the body 
:an5Body {
	:ro rel:primaryData :ro . 
}

# Annotation generated by Taverna when creating r2
:an6Body {
	:proxy1 a rel:Workflow .
	:proxy2 rel:outputOf :proxy1 . 
}
